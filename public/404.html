<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>:p</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Comic+Neue&family=Montserrat:wght@500;700&family=Orbitron:wght@500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        min-height: 100vh;
        width: 100%;
        overflow: hidden;
        background: linear-gradient(135deg, #0e0c13 0%, #1b1a29 100%);
        font-family: "Comic Neue", "Montserrat", sans-serif;
        color: #e0e0ff;
      }

      canvas {
      display: block;
      position: absolute;
      top: 0;
      left: 0;
    }

      .main-container {
        z-index: 2;
        position: relative;
        text-align: center;
        padding-top: 10vh;
        padding-inline: 20px;
      }

      h1 {
        font-family: "Orbitron", sans-serif;
        font-size: 5rem;
        background: linear-gradient(90deg, #66fcf1, #ff00ea);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 12px #66fcf1, 2px 2px 6px #ff00ea;
        margin-bottom: 20px;
      }

      .bar {
        width: 60%;
        max-width: 500px;
        height: 16px;
        margin: 20px auto;
        border-radius: 8px;
        background: linear-gradient(
          90deg,
          #44413a 15%,
          #555581 45%,
          #fffb00 65%,
          #999 80%
        );
        box-shadow: 0 0 14px 4px #fffb00, 0 0 24px 8px #7c3aed66;
      }

      p {
        font-size: 1.5rem;
        color: #c8c8ff;
        margin-bottom: 40px;
        text-shadow: 0 0 8px #6b21a8;
      }

      .nav {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 30px;
        z-index: 2;
      }

      .nav a {
        font-family: "Orbitron", sans-serif;
        font-size: 1.1rem;
        background: linear-gradient(90deg, #00ffff 10%, #ff00ff 90%);
        color: #0e0c13;
        padding: 14px 32px;
        border-radius: 22px;
        text-decoration: none;
        box-shadow: 0 0 12px #00ffff, 0 0 8px #ff00ff;
        letter-spacing: 2px;
        border: 2px solid #aaa;
        transition: all 0.25s ease;
      }

      .nav a:hover {
        background: linear-gradient(90deg, #ff00ff 10%, #00ffff 90%);
        color: #ffffff;
        transform: scale(1.1) skew(-6deg);
      }

      @media (max-width: 700px) {
        h1 {
          font-size: 3rem;
        }

        p {
          font-size: 1.1rem;
        }

        .nav a {
          padding: 12px 24px;
          font-size: 0.95rem;
        }
      }
    </style>
  </head>
  <body>
    <canvas id="starfield"></canvas>
    <div class="main-container">
      <h1>404</h1>
      <div class="bar"></div>
      <p>How did you get here?</p>
      <div class="nav">
        <a href="/">Return</a>
      </div>
    </div>
    <script>
    const canvas = document.getElementById("starfield");
    const ctx = canvas.getContext("2d");

    let stars = [];
    const starCount = 300;
    const interactiveFraction = 0.25; // 25% of stars interact with mouse
    let mouse = { x: null, y: null };

    const gravityRadius = 200;
    const orbitRadius = 60;
    const ambientSpeedLimit = 0.05;
    const maxSpeed = 1.5; // NEW: cap for velocity magnitude

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }

    function createStars() {
      stars = [];
      for (let i = 0; i < starCount; i++) {
        const interactive = i < starCount * interactiveFraction;
        const x = Math.random() * canvas.width;
        const y = Math.random() * canvas.height;

        stars.push({
          x,
          y,
          vx: (Math.random() - 0.5) * ambientSpeedLimit,
          vy: (Math.random() - 0.5) * ambientSpeedLimit,
          radius: Math.random() * 1.5 + 0.5,
          angle: Math.random() * Math.PI * 2,
          speed: Math.random() * 0.5 + 0.2,
          opacity: Math.random(),
          opacitySpeed: Math.random() * 0.02 + 0.005,
          orbiting: false,
          interactive: interactive
        });
      }
    }

    function clampVelocity(vx, vy, max) {
      const speed = Math.sqrt(vx * vx + vy * vy);
      if (speed > max) {
        const scale = max / speed;
        return { vx: vx * scale, vy: vy * scale };
      }
      return { vx, vy };
    }

    function animateStars() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      for (let star of stars) {
        const dx = mouse.x - star.x;
        const dy = mouse.y - star.y;
        const distance = Math.sqrt(dx * dx + dy * dy);

        // Gravitational or orbital only for interactive stars
        if (star.interactive) {
          if (mouse.x !== null && distance < orbitRadius) {
            star.orbiting = true;
          } else {
            star.orbiting = false;
          }

          if (star.orbiting) {
            star.angle += 0.05;
            star.x = mouse.x + Math.cos(star.angle) * orbitRadius;
            star.y = mouse.y + Math.sin(star.angle) * orbitRadius;
            star.vx = 0;
            star.vy = 0;
          } else if (mouse.x !== null && distance < gravityRadius) {
            const force = 1 / (distance * 0.05);
            const ax = (dx / distance) * force;
            const ay = (dy / distance) * force;
            star.vx += ax;
            star.vy += ay;

            // Clamp speed
            const clamped = clampVelocity(star.vx, star.vy, maxSpeed);
            star.vx = clamped.vx;
            star.vy = clamped.vy;
          }
        }

        // Movement
        if (!star.orbiting) {
          star.vx *= 0.98;
          star.vy *= 0.98;
          star.x += star.vx;
          star.y += star.vy;
        }

        // Bounce at edges
        if (star.x < 0 || star.x > canvas.width) star.vx *= -1;
        if (star.y < 0 || star.y > canvas.height) star.vy *= -1;

        // Twinkling
        star.opacity += star.opacitySpeed;
        if (star.opacity >= 1 || star.opacity <= 0) {
          star.opacitySpeed *= -1;
        }

        // Draw
        ctx.beginPath();
        ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(255, 255, 255, ${star.opacity})`;
        ctx.fill();
      }

      requestAnimationFrame(animateStars);
    }

    window.addEventListener('resize', () => {
      resizeCanvas();
      createStars();
    });

    window.addEventListener('mousemove', (e) => {
      mouse.x = e.clientX;
      mouse.y = e.clientY;
    });

    window.addEventListener('mouseout', () => {
      mouse.x = null;
      mouse.y = null;
    });

    resizeCanvas();
    createStars();
    animateStars();
  </script>
  </body>
</html>
